1.过滤策略(待优化)
2.大数据包通信问题(多数据包)
3.网页登陆问题&&语言连接数据库(待检测)
4.并发问题(线程池)
5.数据库字段大小问题(pass)



11.USER，password关键字
12.函数当作col


登陆失败关闭连接
修改sql语句，时用parse之后的语句作为标准语句，去除双引号






1.重新编译sql_parser
2.修改db_comm里面的eof_cnt，高版本为1，低版本和navigation for mysql 为2




ui_comm协议
用来和web前端进行交互，监听6667端口
通信协议：
	客户端：
		前四个byte用来标志包大小，
		第五个byte用来标志包的类型：
		1表示切换模式
			第6个byte为1表示开为0表示，2表示查询，其他不处理
		2表示插入规则
			第6个byte表示等级，包括sql语句的过滤等级和user，ip是否通配低，其中三位表示过滤等级(level%8),第4位表示user是否通配，第5位表示ip是否通配
			第7个byte表示操作类型，第1位表示白(1)黑(0)名单，第2位表示加入(1)，删除(0)
			之后的byte表示sql语句
		其他待定
	服务器端：
		一个byte，0失败，1成功





level
	123.过略等级
	4.ip是否通配
	5.user是否通配


flag
	1.是否白名单
	2.是否移除白名单
	3.是否黑名单
	4.是否移除黑名单


flag
	1.是否白名单
		1.移入白名单
			update white_list set flag=flag&2 where sql_cmd=sql;(全部移除白名单)
			update white_list set level=level, flag=flag|1 where sql_cmd=sql and level&7=level;
		2.移除白名单
			update white_list set flag=flag&2 where sql_cmd=sql;
	2.是否黑名单
		1.移入黑名单
			update white_list set flag=flag&1 where sql_cmd=sql;(全部移除黑名单)
			update white_list set level=level, flag=flag|2 where sql_cmd=sql and level&7=level;
		2.移除黑名单
			update white_list set flag=flag&1 where sql_cmd=sql;





过滤
	黑名单
		select count(*) from white_list where rule=\"%s\" and ((level&4) or addr_ip=\"%s\") and ((level&8) or user=\"%s\") and (flag&2);